{"remainingRequest":"F:\\day37\\day37\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\day37\\day37\\vue_app_00\\src\\components\\home\\shopcart.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"F:\\day37\\day37\\vue_app_00\\src\\components\\home\\shopcart.vue","mtime":1550111278661},{"path":"F:\\day37\\day37\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\day37\\day37\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"F:\\day37\\day37\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\day37\\day37\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"F:\\day37\\day37\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mui-card-content-inner a{\n    float:right;\n    color:#000;\n}\n",{"version":3,"sources":["shopcart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA","file":"shopcart.vue","sourceRoot":"src\\components\\home","sourcesContent":["<template>\r\n    <div class=\"app=shopcart\">   \r\n        <div class=\"mui-card\">\r\n\t\t\t\t<div class=\"mui-card-header\" >\r\n                    <h3>购物车列表：</h3>\r\n                    \r\n                </div>\r\n\t\t\t\t<div class=\"mui-card-content\">\r\n                    <div class=\"mui-card-content-inner\">\r\n                         <input type=\"checkbox\" @click=\"selectAll\" >全选\r\n                    </div>\r\n\t\t\t\t\t<div class=\"mui-card-content-inner\" v-for=\"(item,i) in list\" :key=\"item.id\">\r\n                        <input type=\"checkbox\":checked=\"item.cb\">\r\n                        {{item.fname}}\r\n                       {{item.price}}\r\n                    \r\n                        <a @click=\"delitem\" :data-id=\"item.id\" :data-idx=\"i\"> 删除</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<div class=\"mui-card-footer\">\r\n                    <button  >删除选中的商品</button>\r\n\t\t\t\t\t小计：￥3.00\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport{Toast} from \"mint-ui\"\r\n    export default{\r\n        data(){\r\n            return {\r\n                list:[],\r\n                cb:\"\" //保存购物车列表\r\n            }\r\n        },\r\n        methods:{\r\n            loadmore(){\r\n                //创建变量，保存url地址，发送ajax请求\r\n                var url=\"http://127.0.0.1:3000/cartlist?uid=1\";\r\n                this.axios.get(url).then(result=>{\r\n                    //console.log(result.data)\r\n                    this.list=result.data.data;\r\n                    //为列表中的每个对象添加属性，表示复选框的转态，true，选中，\r\n                    for(var item of this.list){\r\n                        item.cb=false;\r\n                        item.cb=this.cb;\r\n                    }\r\n                })\r\n            },\r\n            delitem(e){\r\n                //e事件对象 ，target 触发事件对象即button  dataset：自定义属性的集合。 与data-后面的值保持一致\r\n                var id=e.target.dataset.id;\r\n                var idx=e.target.dataset.idx;\r\n                console.log(idx)\r\n                var url=\"http://127.0.0.1:3000/delcartitem?id=\"+id\r\n                this.axios.get(url).then(result=>{\r\n                    if(result.data.code==1) Toast(\"删除成功\");\r\n                    this.list.splice(idx,1)   //删除数组中对应下标的商品\r\n                })\r\n            },\r\n            selectAll(e){\r\n               this.cb=e.target.checked;\r\n                //console.log(cb)  //true\r\n                /*for(var item of this.list){\r\n                    console.log(item.cb)  //false\r\n                   \r\n\r\n                }*/\r\n                this.loadmore();\r\n\r\n            }\r\n          \r\n        },\r\n        created(){\r\n            this.loadmore();\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .mui-card-content-inner a{\r\n        float:right;\r\n        color:#000;\r\n    }\r\n</style>"]}]}